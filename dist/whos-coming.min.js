!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){r(1),t.exports=r(6)},function(t,e,r){"use strict";var n=r(2),o=function(t){return t&&t.__esModule?t:{default:t}}(n);window.addEventListener("load",function(){var t=document.querySelector("[data-whos-coming]");if(t){var e=new o.default(t);e.shouldStart()&&e.start()}})},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=r(3),u=function(t){return t&&t.__esModule?t:{default:t}}(a),c=r(4),l=r(5),h=function(){function t(e){var r=this;i(this,t),this.addColumnClickListener=this.addColumnClickListener.bind(this),this.columnUSort=this.columnUSort.bind(this),this.search=(0,u.default)(this.search.bind(this),100),this.shouldStart=function(){return r.keyRow&&r.rows&&r.columns},this.container=e,this.setUp(),this.rows=t.makeRows(),this.originalRows=this.rows.map(function(t){return Object.assign({},t)})}return s(t,[{key:"setUp",value:function(){try{this.keyRow=this.container.querySelector(".whos-coming__row--key"),this.columns=[].concat(o(this.keyRow.querySelectorAll("[data-whos-coming-column]"))),this.sortDirection="desc",this.sortColumn=this.columns[0].getAttribute("data-whos-coming-column")}catch(t){}}},{key:"start",value:function(){this.columns.forEach(this.addColumnClickListener),this.sortByColumn(this.columns[0]),this.searchInput=document.querySelector("[data-whos-coming-search]"),this.searchInput&&this.startSearch()}},{key:"startSearch",value:function(){this.searchField=this.searchInput.getAttribute("data-whos-coming-search"),this.searchInput.addEventListener("keyup",this.search)}},{key:"matchesSearch",value:function(t,e){for(var r=0;r<t.length;r+=1)for(var n=0;n<e.length;n+=1){if(-1!==t[r].indexOf(e[n]))return!0;if(-1!==e[n].indexOf(t[r]))return!0}return!1}},{key:"search",value:function(t){var e=this;if(!t.target.value.trim())return this.setUp(),void this.sortByColumn(this.columns[0]);var r=t.target.value.toLowerCase().split(" ");this.rerender(this.rows.filter(function(t){return e.matchesSearch(r,t.data[e.searchField].toLowerCase().split(" "))}))}},{key:"addColumnClickListener",value:function(t){var e=this;t.addEventListener("click",function(){return e.sortByColumn(t)})}},{key:"rerender",value:function(t){var e;this.container.innerHTML="",(e=this.container).append.apply(e,o([this.keyRow].concat(t.map(function(t){return t.element}))))}},{key:"clearDirectionalArrows",value:function(){this.columns.forEach(function(t){var e=t.querySelector(".whos-coming__arrow");e&&t.removeChild(e)})}},{key:"addDirectionalArrow",value:function(t){var e=document.createElement("SPAN");e.classList.add("whos-coming__arrow"),e.innerHTML="asc"===this.sortDirection?l.downArrow:c.upArrow,t.appendChild(e)}},{key:"sortByColumn",value:function(t){this.setUpSortByColumn(t),this.clearDirectionalArrows(),this.rows=this.getSortedRows(),this.rerender(this.rows),this.addDirectionalArrow(t)}},{key:"setUpSortByColumn",value:function(t){var e=t.getAttribute("data-whos-coming-column");this.sortColumn===e?this.sortDirection="asc"===this.sortDirection?"desc":"asc":this.sortDirection="asc",this.sortColumn=e}},{key:"columnUSort",value:function(t,e){return t.data[this.sortColumn]===e.data[this.sortByColumn]?0:"asc"===this.sortDirection?t.data[this.sortColumn]<e.data[this.sortColumn]?-1:1:t.data[this.sortColumn]>e.data[this.sortColumn]?-1:1}},{key:"getSortedRows",value:function(){var t=this.rows.map(function(t){return t});return t.sort(this.columnUSort),t}}]),t}();h.getRowData=function(t){return[].concat(o(t.querySelectorAll("[data-whos-coming-data]"))).reduce(function(t,e){return Object.assign({},t,n({},e.getAttribute("data-whos-coming-data"),e.innerHTML.trim()))},{})},h.makeRows=function(){return[].concat(o(document.querySelectorAll(".whos-coming__row:not(.whos-coming__row--key)"))).map(function(t){return{element:t,data:h.getRowData(t)}})},e.default=h},function(t,e,r){"use strict";t.exports=function(t,e,r){function n(){var c=Date.now()-a;c<e&&c>=0?o=setTimeout(n,e-c):(o=null,r||(u=t.apply(s,i),s=i=null))}var o,i,s,a,u;null==e&&(e=100);var c=function(){s=this,i=arguments,a=Date.now();var c=r&&!o;return o||(o=setTimeout(n,e)),c&&(u=t.apply(s,i),s=i=null),u};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.flush=function(){o&&(u=t.apply(s,i),s=i=null,clearTimeout(o),o=null)},c}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.upArrow='<svg width="1792" height="1792" viewBox="0 0 1792 1792">\n<path d="M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z" fill="currentColor"/>\n</svg>'},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.downArrow='<svg width="1792" height="1792" viewBox="0 0 1792 1792" class="down-arrow-svg">\n<title>Open</title>\n<path d="M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z" fill="currentColor"/>\n</svg>'},function(t,e){}]);
//# sourceMappingURL=whos-coming.min.js.map