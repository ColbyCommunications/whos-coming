{"version":3,"sources":["webpack:///whos-coming.min.js","webpack:///webpack/bootstrap 05dce38a25238c68a0cc","webpack:///./src/js/index.js","webpack:///./src/js/RowSorter.js","webpack:///./node_modules/debounce/index.js","webpack:///./src/js/upArrow.js","webpack:///./src/js/downArrow.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_RowSorter","_RowSorter2","obj","default","window","addEventListener","container","document","querySelector","sorter","shouldStart","start","_defineProperty","key","value","writable","_toConsumableArray","arr","Array","isArray","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","protoProps","staticProps","_debounce","_debounce2","_upArrow","_downArrow","RowSorter","_this","this","addColumnClickListener","bind","columnUSort","search","keyRow","rows","columns","setUp","makeRows","originalRows","map","item","assign","concat","querySelectorAll","sortDirection","sortColumn","getAttribute","e","forEach","sortByColumn","searchInput","startSearch","searchField","searchWords","textWords","j","indexOf","event","_this2","trim","words","toLowerCase","split","rerender","filter","row","matchesSearch","data","column","_this3","_container","innerHTML","append","apply","element","arrow","removeChild","arrowContainer","createElement","classList","add","downArrow","upArrow","appendChild","setUpSortByColumn","clearDirectionalArrows","getSortedRows","addDirectionalArrow","a","b","sortedRows","sort","getRowData","reduce","span","func","wait","immediate","later","last","Date","now","timestamp","timeout","setTimeout","result","context","args","debounced","arguments","callNow","clear","clearTimeout","flush"],"mappings":"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","file":"whos-coming.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(1);\nmodule.exports = __webpack_require__(6);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _RowSorter = __webpack_require__(2);\n\nvar _RowSorter2 = _interopRequireDefault(_RowSorter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nwindow.addEventListener('load', function () {\n  var container = document.querySelector('[data-whos-coming]');\n  if (container) {\n    var sorter = new _RowSorter2.default(container);\n\n    if (sorter.shouldStart()) {\n      sorter.start();\n    }\n  }\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _debounce = __webpack_require__(3);\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _upArrow = __webpack_require__(4);\n\nvar _downArrow = __webpack_require__(5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RowSorter = function () {\n\n  /**\n   * Initiate and swallow errors.\n   *\n   * @param {HTMLElement} container The root.\n   */\n\n\n  /**\n   * Gathers data attributes from inside a row.\n   *\n   * @param {HTMLElement} element An HTML element.\n   * @return {object} An object containing the data attribute values as keys and innerHTML as values.\n   */\n  function RowSorter(container) {\n    var _this = this;\n\n    _classCallCheck(this, RowSorter);\n\n    this.addColumnClickListener = this.addColumnClickListener.bind(this);\n    this.columnUSort = this.columnUSort.bind(this);\n    this.search = (0, _debounce2.default)(this.search.bind(this), 100);\n\n    this.shouldStart = function () {\n      return _this.keyRow && _this.rows && _this.columns;\n    };\n\n    this.container = container;\n    this.setUp();\n    this.rows = RowSorter.makeRows();\n    this.originalRows = this.rows.map(function (item) {\n      return Object.assign({}, item);\n    });\n  }\n\n  /**\n   * Assembles an array of objects with data for all the rows.\n   *\n   * @return {array} The objects containing the elements and the data.\n   */\n\n\n  _createClass(RowSorter, [{\n    key: 'setUp',\n    value: function setUp() {\n      try {\n        this.keyRow = this.container.querySelector('.whos-coming__row--key');\n        this.columns = [].concat(_toConsumableArray(this.keyRow.querySelectorAll('[data-whos-coming-column]')));\n        this.sortDirection = 'desc'; // Will be flipped on the initialization run of getSortedRows.\n        this.sortColumn = this.columns[0].getAttribute('data-whos-coming-column');\n      } catch (e) {\n        // Do nothing.\n      }\n    }\n\n    /**\n     * Whether to continue after the constructor.\n     */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      this.columns.forEach(this.addColumnClickListener);\n      this.sortByColumn(this.columns[0]);\n\n      this.searchInput = document.querySelector('[data-whos-coming-search]');\n      if (this.searchInput) {\n        this.startSearch();\n      }\n    }\n  }, {\n    key: 'startSearch',\n    value: function startSearch() {\n      this.searchField = this.searchInput.getAttribute('data-whos-coming-search');\n      this.searchInput.addEventListener('keyup', this.search);\n    }\n  }, {\n    key: 'matchesSearch',\n    value: function matchesSearch(searchWords, textWords) {\n      for (var i = 0; i < searchWords.length; i += 1) {\n        for (var j = 0; j < textWords.length; j += 1) {\n          if (searchWords[i].indexOf(textWords[j]) !== -1) {\n            return true;\n          }\n\n          if (textWords[j].indexOf(searchWords[i]) !== -1) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: 'search',\n    value: function search(event) {\n      var _this2 = this;\n\n      if (!event.target.value.trim()) {\n        this.setUp();\n        this.sortByColumn(this.columns[0]);\n        return;\n      }\n\n      var words = event.target.value.toLowerCase().split(' ');\n\n      this.rerender(this.rows.filter(function (row) {\n        return _this2.matchesSearch(words, row.data[_this2.searchField].toLowerCase().split(' '));\n      }));\n    }\n  }, {\n    key: 'addColumnClickListener',\n    value: function addColumnClickListener(column) {\n      var _this3 = this;\n\n      column.addEventListener('click', function () {\n        return _this3.sortByColumn(column);\n      });\n    }\n  }, {\n    key: 'rerender',\n    value: function rerender(rows) {\n      var _container;\n\n      this.container.innerHTML = '';\n      (_container = this.container).append.apply(_container, _toConsumableArray([this.keyRow].concat(rows.map(function (row) {\n        return row.element;\n      }))));\n    }\n  }, {\n    key: 'clearDirectionalArrows',\n    value: function clearDirectionalArrows() {\n      this.columns.forEach(function (column) {\n        var arrow = column.querySelector('.whos-coming__arrow');\n        if (arrow) {\n          column.removeChild(arrow);\n        }\n      });\n    }\n  }, {\n    key: 'addDirectionalArrow',\n    value: function addDirectionalArrow(column) {\n      var arrowContainer = document.createElement('SPAN');\n      arrowContainer.classList.add('whos-coming__arrow');\n      arrowContainer.innerHTML = this.sortDirection === 'asc' ? _downArrow.downArrow : _upArrow.upArrow;\n      column.appendChild(arrowContainer);\n    }\n  }, {\n    key: 'sortByColumn',\n    value: function sortByColumn(column) {\n      this.setUpSortByColumn(column);\n      this.clearDirectionalArrows();\n      this.rows = this.getSortedRows();\n      this.rerender(this.rows);\n      this.addDirectionalArrow(column);\n    }\n  }, {\n    key: 'setUpSortByColumn',\n    value: function setUpSortByColumn(column) {\n      var sortColumn = column.getAttribute('data-whos-coming-column');\n\n      if (this.sortColumn === sortColumn) {\n        this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n      } else {\n        this.sortDirection = 'asc';\n      }\n\n      this.sortColumn = sortColumn;\n    }\n  }, {\n    key: 'columnUSort',\n    value: function columnUSort(a, b) {\n      if (a.data[this.sortColumn] === b.data[this.sortByColumn]) {\n        return 0;\n      }\n\n      if (this.sortDirection === 'asc') {\n        return a.data[this.sortColumn] < b.data[this.sortColumn] ? -1 : 1;\n      }\n\n      return a.data[this.sortColumn] > b.data[this.sortColumn] ? -1 : 1;\n    }\n  }, {\n    key: 'getSortedRows',\n    value: function getSortedRows() {\n      var sortedRows = this.rows.map(function (item) {\n        return item;\n      });\n      sortedRows.sort(this.columnUSort);\n\n      return sortedRows;\n    }\n  }]);\n\n  return RowSorter;\n}();\n\nRowSorter.getRowData = function (element) {\n  return [].concat(_toConsumableArray(element.querySelectorAll('[data-whos-coming-data]'))).reduce(function (data, span) {\n    return Object.assign({}, data, _defineProperty({}, span.getAttribute('data-whos-coming-data'), span.innerHTML.trim()));\n  }, {});\n};\n\nRowSorter.makeRows = function () {\n  return [].concat(_toConsumableArray(document.querySelectorAll('.whos-coming__row:not(.whos-coming__row--key)'))).map(function (element) {\n    return {\n      element: element,\n      data: RowSorter.getRowData(element)\n    };\n  });\n};\n\nexports.default = RowSorter;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function () {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  debounced.flush = function () {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar upArrow = exports.upArrow = \"<svg width=\\\"1792\\\" height=\\\"1792\\\" viewBox=\\\"0 0 1792 1792\\\">\\n<path d=\\\"M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z\\\" fill=\\\"currentColor\\\"/>\\n</svg>\";\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar downArrow = exports.downArrow = \"<svg width=\\\"1792\\\" height=\\\"1792\\\" viewBox=\\\"0 0 1792 1792\\\" class=\\\"down-arrow-svg\\\">\\n<title>Open</title>\\n<path d=\\\"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z\\\" fill=\\\"currentColor\\\"/>\\n</svg>\";\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// whos-coming.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 05dce38a25238c68a0cc","import RowSorter from './RowSorter';\n\nwindow.addEventListener('load', () => {\n  const container = document.querySelector('[data-whos-coming]');\n  if (container) {\n    const sorter = new RowSorter(container);\n\n    if (sorter.shouldStart()) {\n      sorter.start();\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","import debounce from 'debounce';\n\nimport { upArrow } from './upArrow';\nimport { downArrow } from './downArrow';\n\nclass RowSorter {\n  addColumnClickListener = this.addColumnClickListener.bind(this);\n  columnUSort = this.columnUSort.bind(this);\n  search = debounce(this.search.bind(this), 100);\n\n  /**\n   * Gathers data attributes from inside a row.\n   *\n   * @param {HTMLElement} element An HTML element.\n   * @return {object} An object containing the data attribute values as keys and innerHTML as values.\n   */\n  static getRowData = element =>\n    [...element.querySelectorAll('[data-whos-coming-data]')].reduce(\n      (data, span) =>\n        Object.assign({}, data, {\n          [span.getAttribute('data-whos-coming-data')]: span.innerHTML.trim(),\n        }),\n      {}\n    );\n\n  /**\n   * Assembles an array of objects with data for all the rows.\n   *\n   * @return {array} The objects containing the elements and the data.\n   */\n  static makeRows = () =>\n    [\n      ...document.querySelectorAll(\n        '.whos-coming__row:not(.whos-coming__row--key)'\n      ),\n    ].map(element => ({\n      element,\n      data: RowSorter.getRowData(element),\n    }));\n\n  /**\n   * Initiate and swallow errors.\n   *\n   * @param {HTMLElement} container The root.\n   */\n  constructor(container) {\n    this.container = container;\n    this.setUp();\n    this.rows = RowSorter.makeRows();\n    this.originalRows = this.rows.map(item => Object.assign({}, item));\n  }\n\n  setUp() {\n    try {\n      this.keyRow = this.container.querySelector('.whos-coming__row--key');\n      this.columns = [\n        ...this.keyRow.querySelectorAll('[data-whos-coming-column]'),\n      ];\n      this.sortDirection = 'desc'; // Will be flipped on the initialization run of getSortedRows.\n      this.sortColumn = this.columns[0].getAttribute('data-whos-coming-column');\n    } catch (e) {\n      // Do nothing.\n    }\n  }\n\n  /**\n   * Whether to continue after the constructor.\n   */\n  shouldStart = () => this.keyRow && this.rows && this.columns;\n\n  start() {\n    this.columns.forEach(this.addColumnClickListener);\n    this.sortByColumn(this.columns[0]);\n\n    this.searchInput = document.querySelector('[data-whos-coming-search]');\n    if (this.searchInput) {\n      this.startSearch();\n    }\n  }\n\n  startSearch() {\n    this.searchField = this.searchInput.getAttribute('data-whos-coming-search');\n    this.searchInput.addEventListener('keyup', this.search);\n  }\n\n  matchesSearch(searchWords, textWords) {\n    for (var i = 0; i < searchWords.length; i += 1) {\n      for (var j = 0; j < textWords.length; j += 1) {\n        if (searchWords[i].indexOf(textWords[j]) !== -1) {\n          return true;\n        }\n\n        if (textWords[j].indexOf(searchWords[i]) !== -1) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  search(event) {\n    if (!event.target.value.trim()) {\n      this.setUp();\n      this.sortByColumn(this.columns[0]);\n      return;\n    }\n\n    const words = event.target.value.toLowerCase().split(' ');\n\n    this.rerender(\n      this.rows.filter(row => {\n        return this.matchesSearch(\n          words,\n          row.data[this.searchField].toLowerCase().split(' ')\n        );\n      })\n    );\n  }\n\n  addColumnClickListener(column) {\n    column.addEventListener('click', () => this.sortByColumn(column));\n  }\n\n  rerender(rows) {\n    this.container.innerHTML = '';\n    this.container.append(\n      ...[this.keyRow].concat(rows.map(row => row.element))\n    );\n  }\n\n  clearDirectionalArrows() {\n    this.columns.forEach(column => {\n      const arrow = column.querySelector('.whos-coming__arrow');\n      if (arrow) {\n        column.removeChild(arrow);\n      }\n    });\n  }\n\n  addDirectionalArrow(column) {\n    const arrowContainer = document.createElement('SPAN');\n    arrowContainer.classList.add('whos-coming__arrow');\n    arrowContainer.innerHTML =\n      this.sortDirection === 'asc' ? downArrow : upArrow;\n    column.appendChild(arrowContainer);\n  }\n\n  sortByColumn(column) {\n    this.setUpSortByColumn(column);\n    this.clearDirectionalArrows();\n    this.rows = this.getSortedRows();\n    this.rerender(this.rows);\n    this.addDirectionalArrow(column);\n  }\n\n  setUpSortByColumn(column) {\n    const sortColumn = column.getAttribute('data-whos-coming-column');\n\n    if (this.sortColumn === sortColumn) {\n      this.sortDirection = this.sortDirection === 'asc' ? 'desc' : 'asc';\n    } else {\n      this.sortDirection = 'asc';\n    }\n\n    this.sortColumn = sortColumn;\n  }\n\n  columnUSort(a, b) {\n    if (a.data[this.sortColumn] === b.data[this.sortByColumn]) {\n      return 0;\n    }\n\n    if (this.sortDirection === 'asc') {\n      return a.data[this.sortColumn] < b.data[this.sortColumn] ? -1 : 1;\n    }\n\n    return a.data[this.sortColumn] > b.data[this.sortColumn] ? -1 : 1;\n  }\n\n  getSortedRows() {\n    const sortedRows = this.rows.map(item => item);\n    sortedRows.sort(this.columnUSort);\n\n    return sortedRows;\n  }\n}\n\nexport default RowSorter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/RowSorter.js","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/debounce/index.js","export const upArrow = `<svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\">\n<path d=\"M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z\" fill=\"currentColor\"/>\n</svg>`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/upArrow.js","export const downArrow = `<svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" class=\"down-arrow-svg\">\n<title>Open</title>\n<path d=\"M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z\" fill=\"currentColor\"/>\n</svg>`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/downArrow.js"],"sourceRoot":""}